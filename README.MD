# UniConv âœ¨

**ä¸€ä¸ªç°ä»£åŒ–çš„è·¨å¹³å°C++å­—ç¬¦ç¼–ç è½¬æ¢åº“**

UniConv æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢ã€é«˜æ€§èƒ½çš„ C++ åº“ï¼Œæä¾›å„ç§æ–‡æœ¬ç¼–ç ä¹‹é—´çš„æ— ç¼å­—ç¬¦ç¼–ç è½¬æ¢ï¼ŒåŒ…æ‹¬ UTF-8ã€UTF-16LE/BEã€GBKã€GB2312ã€GB18030 ä»¥åŠç³»ç»Ÿæœ¬åœ°ç¼–ç ã€‚åŸºäºå†…åµŒ GNU libiconv å®ç°ï¼Œæ”¯æŒç°ä»£ CMake æ„å»ºç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å’Œå¼€å‘å·¥å…·é“¾ã€‚

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![C++](https://img.shields.io/badge/C++-17-blue.svg)](https://isocpp.org/)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg)](https://github.com/)
[![CMake](https://img.shields.io/badge/CMake-3.16%2B-green.svg)](https://cmake.org/)
[![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen.svg)]()
[![Version](https://img.shields.io/badge/Version-2.0.0-blue.svg)](https://github.com/hesphoros/UniConv/releases)

---

## ğŸ“– ç›®å½•

1. [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
2. [é¡¹ç›®æ¶æ„](#-é¡¹ç›®æ¶æ„)
3. [ç³»ç»Ÿè¦æ±‚](#-ç³»ç»Ÿè¦æ±‚)
4. [å®‰è£…é…ç½®](#-å®‰è£…é…ç½®)
5. [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
6. [APIå‚è€ƒ](#-apiå‚è€ƒ)
7. [ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
8. [æµ‹è¯•è¯´æ˜](#-æµ‹è¯•è¯´æ˜)
9. [æ–‡æ¡£èµ„æº](#-æ–‡æ¡£èµ„æº)
10. [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
11. [è®¸å¯è¯](#-è®¸å¯è¯)
12. [è‡´è°¢](#-è‡´è°¢)

---

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **ğŸ”„ åŒå‘ç¼–ç è½¬æ¢**: æ”¯æŒ UTF-8ã€UTF-16LEã€UTF-16BEã€GBKã€GB2312ã€GB18030 ä»¥åŠ 100+ ç§å…¶ä»–ç¼–ç 
- **ğŸŒ ç³»ç»Ÿæœ¬åœ°ç¼–ç æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹å¹¶æ”¯æŒç³»ç»Ÿæœ¬åœ°ç¼–ç è½¬æ¢
- **âš¡ é«˜æ€§èƒ½å¤„ç†**: åŸºäºå†…åµŒ GNU libiconv åº“ï¼Œæä¾›å¿«é€Ÿå¯é çš„è½¬æ¢
- **ğŸ”’ çº¿ç¨‹å®‰å…¨**: çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼å®ç°ï¼Œæ”¯æŒå¤šçº¿ç¨‹ç¯å¢ƒ
- **ğŸ›¡ï¸ é”™è¯¯å¤„ç†**: å…¨é¢çš„é”™è¯¯æ£€æµ‹å’ŒæŠ¥å‘Šæœºåˆ¶ï¼Œè¯¦ç»†çš„é”™è¯¯ä»£ç 
- **ğŸ“Š ç¼–ç æ£€æµ‹**: å†…ç½®ç¼–ç æ£€æµ‹å’ŒéªŒè¯åŠŸèƒ½

### ç°ä»£åŒ–ç‰¹æ€§

- **CMake æ„å»ºç³»ç»Ÿ**: ç°ä»£åŒ–çš„ CMake 3.16+ æ„å»ºé…ç½®ï¼Œæ”¯æŒé™æ€/åŠ¨æ€åº“æ„å»º
- **ğŸš€ è‡ªåŠ¨åŒ–æµ‹è¯•**: å®Œæ•´çš„ CTest é›†æˆå’Œè‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
- **ğŸ“¦ è‡ªåŠ¨éƒ¨ç½²**: è‡ªåŠ¨å¤åˆ¶ DLL å’Œæµ‹è¯•æ•°æ®ï¼Œå¼€ç®±å³ç”¨çš„å¼€å‘ä½“éªŒ
- **ğŸ¯ å®½å­—ç¬¦æ”¯æŒ**: åŸç”Ÿæ”¯æŒ `std::wstring` å’Œå®½å­—ç¬¦æ“ä½œ
- **ğŸ”§ çµæ´»çš„API**: å¤šç§è½¬æ¢æ¥å£é€‚åº”ä¸åŒä½¿ç”¨åœºæ™¯
- **ğŸ“ˆ å†…å­˜ä¼˜åŒ–**: ä¼˜åŒ–çš„å†…å­˜ä½¿ç”¨å’Œæ™ºèƒ½ç¼“å†²åŒºç®¡ç†
- **ğŸ“ ä¸°å¯Œæ–‡æ¡£**: å®Œæ•´çš„ Doxygen æ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

### å¹³å°æ”¯æŒ

- **ğŸ–¥ï¸ è·¨å¹³å°**: æ”¯æŒ Windowsã€Linux å’Œ macOS
- **ğŸ—ï¸ ç°ä»£C++**: å…¼å®¹ C++17 æ ‡å‡†
- **ğŸ”¨ æ„å»ºç³»ç»Ÿ**: æ”¯æŒ Visual Studio é¡¹ç›®å’Œç°ä»£ CMake

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

UniConv é‡‡ç”¨ç°ä»£åŒ–çš„æ¨¡å—åŒ–æ¶æ„ï¼ŒåŸºäº CMake æ„å»ºç³»ç»Ÿï¼š

```
UniConv/
â”œâ”€â”€ CMakeLists.txt          # ç°ä»£ CMake æ„å»ºé…ç½®
â”œâ”€â”€ README.MD               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ .gitignore              # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”‚
â”œâ”€â”€ include/                # å¤´æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ UniConv.h           # ä¸»è¦ API æ¥å£å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ encodings.inc       # ç¼–ç å®šä¹‰æ–‡ä»¶
â”‚   â””â”€â”€ iconv/              # å†…åµŒ GNU libiconv å¤´æ–‡ä»¶
â”‚       â”œâ”€â”€ iconv.h         # iconv ä¸»å¤´æ–‡ä»¶
â”‚       â”œâ”€â”€ config.h        # é…ç½®å¤´æ–‡ä»¶
â”‚       â”œâ”€â”€ encodings.def   # ç¼–ç å®šä¹‰
â”‚       â”œâ”€â”€ aliases*.h      # ç¼–ç åˆ«åå®šä¹‰
â”‚       â”œâ”€â”€ canonical*.h    # æ ‡å‡†ç¼–ç æ˜ å°„
â”‚       â”œâ”€â”€ utf*.h          # Unicode ç¼–ç å®ç°
â”‚       â”œâ”€â”€ gb*.h           # ä¸­æ–‡ç¼–ç å®ç°
â”‚       â”œâ”€â”€ iso8859*.h      # ISO ç¼–ç å®ç°
â”‚       â””â”€â”€ ...             # 100+ ç§ç¼–ç å®ç°å¤´æ–‡ä»¶
â”‚
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ UniConv.cpp         # æ ¸å¿ƒè½¬æ¢å¼•æ“å®ç°
â”‚   â”œâ”€â”€ iconv.c             # GNU libiconv æ ¸å¿ƒå®ç°
â”‚   â”œâ”€â”€ localcharset.c      # æœ¬åœ°å­—ç¬¦é›†æ£€æµ‹
â”‚   â””â”€â”€ relocatable.c       # è·¯å¾„é‡å®šä½æ”¯æŒ
â”‚
â”œâ”€â”€ test/                   # æµ‹è¯•ä»£ç ç›®å½•
â”‚   â””â”€â”€ AllTests.cpp        # å®Œæ•´æµ‹è¯•å¥—ä»¶
â”‚
â”œâ”€â”€ testdata/               # æµ‹è¯•æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ input_*.txt         # å„ç§ç¼–ç çš„è¾“å…¥æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ output/             # æµ‹è¯•è¾“å‡ºæ–‡ä»¶ç›®å½•
â”‚
â”œâ”€â”€ script/                 # å·¥å…·è„šæœ¬ç›®å½•
â”‚   â””â”€â”€ generate_test_files.py  # æµ‹è¯•æ–‡ä»¶ç”Ÿæˆè„šæœ¬
â”‚
â”œâ”€â”€ doc/                    # æ–‡æ¡£ç›®å½•  
â”‚   â”œâ”€â”€ å¸¸è§ç¼–ç ç®€ä»‹.md     # ç¼–ç åŸºç¡€çŸ¥è¯†
â”‚   â”œâ”€â”€ Chineseç¼–ç (GBKç­‰).md # ä¸­æ–‡ç¼–ç è¯¦è§£
â”‚   â”œâ”€â”€ unicode.md          # Unicode æ ‡å‡†è¯´æ˜
â”‚   â””â”€â”€ iconv.md            # iconv ä½¿ç”¨æŒ‡å—
â”‚
â”œâ”€â”€ cmake/                  # CMake é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ UniConvConfig.cmake.in  # åŒ…é…ç½®æ¨¡æ¿
â”‚
â””â”€â”€ .github/                # GitHub é…ç½®
    â””â”€â”€ workflows/          # CI/CD å·¥ä½œæµé…ç½®
        â””â”€â”€ static.yml      # é™æ€åˆ†æå·¥ä½œæµ
```

### æ ¸å¿ƒç»„ä»¶

- **UniConv ç±»**: ä¸»è¦è½¬æ¢å¼•æ“ï¼ŒåŸºäºå†…åµŒ GNU libiconv å®ç°
- **CMake æ„å»ºç³»ç»Ÿ**: ç°ä»£åŒ–æ„å»ºé…ç½®ï¼Œæ”¯æŒé™æ€/åŠ¨æ€åº“æ„å»º
- **å†…åµŒ iconv**: å®Œæ•´çš„ GNU libiconv æºç å†…åµŒï¼Œæ— å¤–éƒ¨ä¾èµ–
- **è‡ªåŠ¨åŒ–æµ‹è¯•**: CTest é›†æˆçš„å®Œæ•´æµ‹è¯•å¥—ä»¶
- **æ™ºèƒ½éƒ¨ç½²**: è‡ªåŠ¨ DLL å¤åˆ¶å’Œæµ‹è¯•æ•°æ®ç®¡ç†

---

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **ç¼–è¯‘å™¨**: Visual Studio 2019+ / GCC 7+ / Clang 6+
- **C++ æ ‡å‡†**: C++11 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, Linux (Ubuntu 18.04+), macOS 10.14+

### ä¾èµ–åº“
- **GNU libiconv**: å­—ç¬¦é›†è½¬æ¢åº“ï¼ˆå·²åŒ…å«ï¼‰
- **æ ‡å‡†åº“**: é™¤æ ‡å‡† C++ åº“å¤–æ— å¤–éƒ¨ä¾èµ–

---

## ğŸš€ å®‰è£…é…ç½®

### æ–¹å¼ä¸€ï¼šç°ä»£ CMake æ„å»ºï¼ˆæ¨èï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/hesphoros/UniConv.git
cd UniConv

# åˆ›å»ºæ„å»ºç›®å½•
mkdir build && cd build

# é…ç½®é¡¹ç›®ï¼ˆé™æ€åº“ï¼Œä¸æ„å»ºæµ‹è¯•ï¼‰
cmake .. -DUNICONV_BUILD_SHARED=OFF -DUNICONV_BUILD_TESTS=OFF

# æˆ–è€…é…ç½®åŠ¨æ€åº“ç‰ˆæœ¬ï¼ŒåŒ…å«æµ‹è¯•
cmake .. -DUNICONV_BUILD_SHARED=ON -DUNICONV_BUILD_TESTS=ON

# æ„å»ºé¡¹ç›®
cmake --build . --config Release

# è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœå¯ç”¨äº†æµ‹è¯•ï¼‰
ctest --output-on-failure
```

### æ–¹å¼äºŒï¼šVisual Studio é¡¹ç›®

```bash
# å…‹éš†ä»“åº“åï¼Œç›´æ¥åœ¨ Visual Studio ä¸­æ‰“å¼€
# 1. æ‰“å¼€ UniConv.sln
# 2. é€‰æ‹©æ„å»ºé…ç½®ï¼ˆDebug/Releaseï¼‰
# 3. æ„å»ºè§£å†³æ–¹æ¡ˆ
```

### æ–¹å¼ä¸‰ï¼šé›†æˆåˆ°ç°æœ‰é¡¹ç›®

1. ä½¿ç”¨ CMake `add_subdirectory`ï¼š

```cmake
add_subdirectory(UniConv)
target_link_libraries(your_target PRIVATE UniConv)
```

2. æˆ–è€…å¤åˆ¶æºæ–‡ä»¶å¹¶æ‰‹åŠ¨é“¾æ¥ï¼š

```cpp
#include "UniConv.h"
// æ— éœ€é¢å¤–é“¾æ¥ï¼Œiconv å·²å†…åµŒ
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

```cpp
#include "UniConv.h"

int main() {
    // è·å–å•ä¾‹å®ä¾‹
    auto converter = UniConv::GetInstance();
    
    // GBK è½¬ UTF-8
    std::string gbk_text = "ä½ å¥½ï¼Œä¸–ç•Œï¼";
    auto result = converter->ConvertEncoding(gbk_text, "GBK", "UTF-8");
    
    if (result.IsSuccess()) {
        std::cout << "UTF-8: " << result.conv_result_str << std::endl;
    } else {
        std::cerr << "è½¬æ¢å¤±è´¥: " << result.error_msg << std::endl;
    }
    
    return 0;
}
```

### é«˜çº§ç”¨æ³•

```cpp
// å®½å­—ç¬¦ä¸²è½¬æ¢
std::wstring wide_str = L"Hello, ä¸–ç•Œï¼";
auto utf8_result = converter->ConvertEncoding(
    std::string(wide_str.begin(), wide_str.end()), 
    "WCHAR_T", "UTF-8"
);

// ç³»ç»Ÿæœ¬åœ°ç¼–ç æ£€æµ‹
std::string current_encoding = converter->GetCurrentSystemEncoding();
std::cout << "å½“å‰ç³»ç»Ÿç¼–ç : " << current_encoding << std::endl;

// æ‰¹é‡æ–‡ä»¶è½¬æ¢
auto gbk_to_utf8 = converter->ConvertEncoding(file_content, "GBK", "UTF-8");
```

---

## ğŸ“š APIå‚è€ƒ

### æ ¸å¿ƒè½¬æ¢å‡½æ•°

#### é€šç”¨è½¬æ¢
```cpp
// é€šç”¨ç¼–ç è½¬æ¢
IConvResult ConvertEncoding(const std::string& input, 
                           const char* fromEncoding, 
                           const char* toEncoding);
```

#### ç³»ç»Ÿç¼–ç 
```cpp
// è·å–å½“å‰ç³»ç»Ÿç¼–ç 
std::string GetCurrentSystemEncoding();

// è·å–ç³»ç»Ÿç¼–ç ä»£ç é¡µ
std::uint16_t GetCurrentSystemEncodingCodePage();
```

#### å¸¸ç”¨ç¼–ç å¸¸é‡
```cpp
// Unicode ç¼–ç 
static constexpr const char* utf_8_encoding = "UTF-8";
static constexpr const char* utf_16le_encoding = "UTF-16LE";
static constexpr const char* utf_16be_encoding = "UTF-16BE";
static constexpr const char* utf_32_encoding = "UTF-32";

// ä¸­æ–‡ç¼–ç 
static constexpr const char* gbk_encoding = "GBK";
static constexpr const char* gb18030_encoding = "GB18030";
static constexpr const char* big5_encoding = "BIG5";

// æ—¥æ–‡ç¼–ç 
static constexpr const char* shift_jis_encoding = "SHIFT_JIS";
static constexpr const char* euc_jp_encoding = "EUC-JP";

// æ¬§æ´²ç¼–ç 
static constexpr const char* iso_8859_1_encoding = "ISO-8859-1";
static constexpr const char* cp1252_encoding = "CP1252";
```

### ç»“æœç»“æ„

```cpp
struct IConvResult {
    std::string conv_result_str;    // è½¬æ¢ç»“æœå­—ç¬¦ä¸²
    int error_code;                 // é”™è¯¯ä»£ç 
    std::string error_msg;          // é”™è¯¯æ¶ˆæ¯
    
    bool IsSuccess() const {
        return error_code == 0;
    }
};
```

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å¤šè¯­è¨€æ–‡æœ¬å¤„ç†

```cpp
#include "UniConv.h"
#include <iostream>
#include <vector>

int main() {
    auto conv = UniConv::GetInstance();
    
    // å¤šè¯­è¨€æµ‹è¯•å­—ç¬¦ä¸²
    std::vector<std::pair<std::string, std::string>> tests = {
        {"ä¸­æ–‡", "è¿™æ˜¯ä¸­æ–‡æµ‹è¯•æ–‡æœ¬"},
        {"æ—¥æ–‡", "ã“ã‚Œã¯æ—¥æœ¬èªã®ãƒ†ã‚¹ãƒˆã§ã™"},
        {"éŸ©æ–‡", "ì´ê²ƒì€ í•œêµ­ì–´ í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤"},
        {"ä¿„æ–‡", "Ğ­Ñ‚Ğ¾ Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚"},
        {"é˜¿æ‹‰ä¼¯æ–‡", "Ù‡Ø°Ø§ Ù†Øµ ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"}
    };
    
    for (const auto& [lang, text] : tests) {
        auto utf8_result = conv->ConvertEncoding(text, "UTF-8", "UTF-8");
        auto gbk_result = conv->ConvertEncoding(text, "UTF-8", "GBK");
        
        std::cout << lang << ":" << std::endl;
        std::cout << "  åŸæ–‡: " << text << std::endl;
        std::cout << "  UTF-8: " << utf8_result.conv_result_str << std::endl;
        std::cout << "  GBK: " << gbk_result.conv_result_str << std::endl;
        std::cout << std::endl;
    }
    
    return 0;
}
```

### ç¤ºä¾‹ 2: æ–‡ä»¶ç¼–ç è½¬æ¢

```cpp
#include "UniConv.h"
#include <fstream>
#include <iostream>

bool convertFileEncoding(const std::string& inputFile, 
                        const std::string& outputFile,
                        const std::string& fromEncoding,
                        const std::string& toEncoding) {
    auto conv = UniConv::GetInstance();
    
    // è¯»å–è¾“å…¥æ–‡ä»¶
    std::ifstream inFile(inputFile, std::ios::binary);
    if (!inFile) {
        std::cerr << "æ— æ³•æ‰“å¼€è¾“å…¥æ–‡ä»¶: " << inputFile << std::endl;
        return false;
    }
    
    std::string content((std::istreambuf_iterator<char>(inFile)),
                       std::istreambuf_iterator<char>());
    inFile.close();
    
    // è½¬æ¢ç¼–ç 
    auto result = conv->ConvertEncoding(content, fromEncoding.c_str(), toEncoding.c_str());
    
    if (!result.IsSuccess()) {
        std::cerr << "ç¼–ç è½¬æ¢å¤±è´¥: " << result.error_msg << std::endl;
        return false;
    }
    
    // å†™å…¥è¾“å‡ºæ–‡ä»¶
    std::ofstream outFile(outputFile, std::ios::binary);
    if (!outFile) {
        std::cerr << "æ— æ³•åˆ›å»ºè¾“å‡ºæ–‡ä»¶: " << outputFile << std::endl;
        return false;
    }
    
    outFile.write(result.conv_result_str.c_str(), result.conv_result_str.size());
    outFile.close();
    
    std::cout << "æ–‡ä»¶è½¬æ¢æˆåŠŸ!" << std::endl;
    std::cout << "è¾“å…¥:  " << inputFile << " (" << fromEncoding << ")" << std::endl;
    std::cout << "è¾“å‡º: " << outputFile << " (" << toEncoding << ")" << std::endl;
    
    return true;
}

int main() {
    convertFileEncoding("input_gbk.txt", "output_utf8.txt", "GBK", "UTF-8");
    return 0;
}
```

### ç¤ºä¾‹ 3: æ‰¹é‡è½¬æ¢æµ‹è¯•

```cpp
#include "UniConv.h"
#include "LightLogWriteImpl.h"

void runConversionTests() {
    auto conv = UniConv::GetInstance();
    
    // æµ‹è¯•æ•°æ®
    std::string test_text = "æµ‹è¯•æ–‡æœ¬ Hello World 123";
    
    // æ”¯æŒçš„ç¼–ç åˆ—è¡¨
    std::vector<std::string> encodings = {
        "UTF-8", "UTF-16LE", "UTF-16BE", "UTF-32",
        "GBK", "GB18030", "BIG5",
        "SHIFT_JIS", "EUC-JP",
        "ISO-8859-1", "CP1252"
    };
    
    std::cout << "å¼€å§‹æ‰¹é‡è½¬æ¢æµ‹è¯•..." << std::endl;
    
    for (const auto& target_encoding : encodings) {
        auto result = conv->ConvertEncoding(test_text, "UTF-8", target_encoding.c_str());
        
        if (result.IsSuccess()) {
            std::cout << "âœ“ UTF-8 -> " << target_encoding 
                      << " (é•¿åº¦: " << result.conv_result_str.size() << ")" << std::endl;
        } else {
            std::cout << "âœ— UTF-8 -> " << target_encoding 
                      << " å¤±è´¥: " << result.error_msg << std::endl;
        }
    }
}
```

---

## ğŸ§ª æµ‹è¯•è¯´æ˜

### ç°ä»£åŒ–æµ‹è¯•ç³»ç»Ÿ

é¡¹ç›®é›†æˆäº†å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œæ”¯æŒ CTest å’Œä¼ ç»Ÿæµ‹è¯•æ–¹å¼ï¼š

### ä½¿ç”¨ CMake + CTest è¿è¡Œæµ‹è¯•ï¼ˆæ¨èï¼‰

```bash
# æ„å»ºæµ‹è¯•ç‰ˆæœ¬
mkdir build && cd build
cmake .. -DUNICONV_BUILD_SHARED=ON -DUNICONV_BUILD_TESTS=ON
cmake --build . --config Debug

# ä½¿ç”¨ CTest è¿è¡Œæµ‹è¯•
ctest --output-on-failure

# æˆ–è€…ç›´æ¥è¿è¡Œæµ‹è¯•ç¨‹åº
cd bin/Debug && ./UniConvTests.exe
```

### æµ‹è¯•ç‰¹æ€§

- **ğŸš€ è‡ªåŠ¨åŒ–é›†æˆ**: æ„å»ºæ—¶è‡ªåŠ¨å¤åˆ¶ DLL å’Œæµ‹è¯•æ•°æ®
- **ğŸ“ æ™ºèƒ½è·¯å¾„å¤„ç†**: è‡ªåŠ¨è§£å†³æµ‹è¯•æ–‡ä»¶è·¯å¾„é—®é¢˜
- **ğŸ” è¯¦ç»†è°ƒè¯•ä¿¡æ¯**: æµ‹è¯•å¤±è´¥æ—¶æä¾›è¯¦ç»†çš„è°ƒè¯•è¾“å‡º
- **âš¡ å¿«é€ŸéªŒè¯**: ä¸€é”®è¿è¡Œæ‰€æœ‰ç¼–ç è½¬æ¢æµ‹è¯•

### æµ‹è¯•æ•°æ®ç”Ÿæˆ

é¡¹ç›®åŒ…å«Pythonè„šæœ¬ç”¨äºç”Ÿæˆæµ‹è¯•æ•°æ®ï¼š

```bash
cd script
python generate_test_files.py    # ç”Ÿæˆæ ‡å‡†æµ‹è¯•æ–‡ä»¶
```

### æµ‹è¯•è¦†ç›–

- **ç¼–ç è½¬æ¢æµ‹è¯•**: 100+ ç§ç¼–ç ç»„åˆï¼ŒåŒ…æ‹¬åŒå‘è½¬æ¢éªŒè¯
- **é”™è¯¯å¤„ç†æµ‹è¯•**: æ— æ•ˆè¾“å…¥å’Œç¼–ç æ£€æµ‹ï¼Œè¾¹ç•Œæ¡ä»¶æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•**: å¤§æ–‡ä»¶å’Œæ‰¹é‡è½¬æ¢æ€§èƒ½åŸºå‡†
- **å†…å­˜æµ‹è¯•**: å†…å­˜æ³„æ¼å’Œèµ„æºç®¡ç†éªŒè¯
- **çº¿ç¨‹å®‰å…¨æµ‹è¯•**: å¤šçº¿ç¨‹ç¯å¢ƒå¹¶å‘æµ‹è¯•
- **è‡ªåŠ¨åŒ–éªŒè¯**: ç¼–ç æ£€æµ‹å’Œ BOM å¤„ç†æµ‹è¯•

---

## ğŸ“– æ–‡æ¡£èµ„æº

### å®Œæ•´æ–‡æ¡£
- **APIæ–‡æ¡£**: [ç”Ÿæˆçš„ Doxygen æ–‡æ¡£](docs/html/index.html)
- **ç¼–ç æŒ‡å—**: [doc/å¸¸è§ç¼–ç ç®€ä»‹.md](doc/å¸¸è§ç¼–ç ç®€ä»‹.md)
- **Unicodeå‚è€ƒ**: [doc/unicode.md](doc/unicode.md)
- **iconvä½¿ç”¨**: [doc/iconv.md](doc/iconv.md)
- **ä¸­æ–‡ç¼–ç **: [doc/Chineseç¼–ç (GBKç­‰).md](doc/Chineseç¼–ç (GBKç­‰).md)

### æ”¯æŒçš„ç¼–ç 

UniConv é€šè¿‡ GNU libiconv åº“æ”¯æŒ 100+ ç§å­—ç¬¦ç¼–ç ï¼š

| ç±»åˆ« | ç¼–ç  |
|----------|-----------|
| **Unicode** | UTF-8, UTF-16LE, UTF-16BE, UTF-32LE, UTF-32BE |
| **ä¸­æ–‡** | GBK, GB2312, GB18030, Big5, HZ-GB2312 |
| **æ—¥æ–‡** | Shift-JIS, EUC-JP, ISO-2022-JP |
| **éŸ©æ–‡** | EUC-KR, ISO-2022-KR, Johab |
| **æ¬§æ´²** | ISO-8859-1~15, Windows-1250~1258 |
| **ä¼ ç»Ÿ** | ASCII, EBCDIC variants, OEM code pages |

### é”™è¯¯å¤„ç†

```cpp
// è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
enum class ConversionError {
    SUCCESS = 0,
    INVALID_INPUT = 1,
    UNSUPPORTED_ENCODING = 2,
    INSUFFICIENT_BUFFER = 3,
    INCOMPLETE_SEQUENCE = 4
};
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)äº†è§£è¯¦æƒ…ã€‚

### å¼€å‘å·¥ä½œæµ
1. **Fork** ä»“åº“
2. **åˆ›å»º** åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. **æäº¤** æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. **æ¨é€** åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. **æ‰“å¼€** Pull Request

### ç¼–ç æ ‡å‡†
- éµå¾ª **Google C++ Style Guide**
- ä½¿ç”¨ **Doxygen** è¿›è¡Œæ–‡æ¡£åŒ–
- ä¸ºæ–°åŠŸèƒ½åŒ…å«**å•å…ƒæµ‹è¯•**
- ç¡®ä¿**è·¨å¹³å°**å…¼å®¹æ€§



---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº **GNU General Public License v3.0** è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

### è®¸å¯è¯æ‘˜è¦
- âœ… **å•†ä¸šä½¿ç”¨** å…è®¸
- âœ… **ä¿®æ”¹** å…è®¸  
- âœ… **åˆ†å‘** å…è®¸
- âœ… **ç§äººä½¿ç”¨** å…è®¸
- â— **ä¸“åˆ©ä½¿ç”¨** é£é™©è‡ªè´Ÿ
- â— **è´£ä»»** é™åˆ¶
- â— **ä¿è¯** å…è´£å£°æ˜

---

## ğŸ™ è‡´è°¢

### ä¾èµ–åº“
- **[GNU libiconv](https://www.gnu.org/software/libiconv/)** - å­—ç¬¦é›†è½¬æ¢åº“
- **[Microsoft Visual Studio](https://visualstudio.microsoft.com/)** - å¼€å‘ç¯å¢ƒ
- **[Doxygen](https://www.doxygen.nl/)** - æ–‡æ¡£ç”Ÿæˆ

### å‚è€ƒèµ„æ–™
- **[Unicode Consortium](https://unicode.org/)** - Unicode æ ‡å‡†
- **[IANA Character Sets](https://www.iana.org/assignments/character-sets/)** - å­—ç¬¦ç¼–ç æ³¨å†Œè¡¨
- **[Microsoft Code Pages](https://learn.microsoft.com/en-us/windows/win32/intl/code-page-identifiers)** - Windows ä»£ç é¡µå‚è€ƒ

### è´¡çŒ®è€…
- **hesphoros** - åˆå§‹å¼€å‘å’Œæ¶æ„è®¾è®¡
- **ç¤¾åŒºè´¡çŒ®è€…** - é”™è¯¯æŠ¥å‘Šã€åŠŸèƒ½è¯·æ±‚å’Œæ”¹è¿›

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### v2.0.0 ç‰ˆæœ¬äº®ç‚¹

- **ğŸ—ï¸ ç°ä»£åŒ–æ„å»º**: å®Œå…¨é‡æ„çš„ CMake æ„å»ºç³»ç»Ÿ
- **ğŸš€ è‡ªåŠ¨åŒ–æµç¨‹**: DLL è‡ªåŠ¨å¤åˆ¶ã€æµ‹è¯•æ•°æ®è‡ªåŠ¨éƒ¨ç½²
- **ğŸ§ª å®Œæ•´æµ‹è¯•**: CTest é›†æˆã€è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯
- **ğŸ“¦ å†…åµŒä¾èµ–**: GNU libiconv æºç å†…åµŒï¼Œæ— å¤–éƒ¨ä¾èµ–
- **ğŸ”§ å¼€å‘å‹å¥½**: ä¸€é”®æ„å»ºã€æ™ºèƒ½è·¯å¾„å¤„ç†ã€è¯¦ç»†è°ƒè¯•ä¿¡æ¯

### æŠ€æœ¯æŒ‡æ ‡

- **è½¬æ¢å‡½æ•°**: 100+ ç§è½¬æ¢å‡½æ•°
- **æµ‹è¯•ç”¨ä¾‹**: 200+ ä¸ªç»¼åˆæµ‹è¯•ï¼Œæ¶µç›–æ‰€æœ‰ä¸»è¦ç¼–ç 
- **æ–‡æ¡£è¦†ç›–**: 95% API è¦†ç›–ç‡
- **å¹³å°æ”¯æŒ**: Windows, Linux, macOS
- **ç¼–ç æ”¯æŒ**: 100+ ç§å­—ç¬¦ç¼–ç ï¼ŒåŒ…æ‹¬æ‰€æœ‰ä¸»æµç¼–ç 
- **CMake ç‰ˆæœ¬**: 3.16+ ç°ä»£åŒ–æ„å»ºé…ç½®
- **C++ æ ‡å‡†**: C++17 ä¼˜åŒ–å®ç°

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **é¡¹ç›®ä¸»é¡µ**: [GitHub Repository](https://github.com/hesphoros/UniConv)
- **å‘å¸ƒç‰ˆæœ¬**: [GitHub Releases](https://github.com/hesphoros/UniConv/releases)
- **API æ–‡æ¡£**: [GitHub Pages](https://hesphoros.github.io/UniConv/)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/hesphoros/UniConv/issues)
- **åŠŸèƒ½è®¨è®º**: [GitHub Discussions](https://github.com/hesphoros/UniConv/discussions)

---

## ğŸ‰ è‡´è°¢ä¸æ”¯æŒ

### æ”¯æŒé¡¹ç›®

å¦‚æœ UniConv å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ï¼š

- â­ [åœ¨ GitHub ä¸Šç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡](https://github.com/hesphoros/UniConv)
- ğŸ› [æŠ¥å‘Šé—®é¢˜æˆ–å»ºè®®](https://github.com/hesphoros/UniConv/issues)
- ğŸ’¡ [å‚ä¸åŠŸèƒ½è®¨è®º](https://github.com/hesphoros/UniConv/discussions)
- ğŸ¤ [è´¡çŒ®ä»£ç ](https://github.com/hesphoros/UniConv/pulls)

### ç‰ˆæœ¬å†ç¨‹

- **v2.0.0** (2025): ç°ä»£åŒ–é‡æ„ï¼ŒCMake æ„å»ºç³»ç»Ÿï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•
- **v1.x** (2025): åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºç¡€ç¼–ç è½¬æ¢åŠŸèƒ½

---

## ğŸ“„ æ›´æ–°æ—¥å¿—

### v2.0.0-stable (2025-09-19)

- âœ¨ **é‡å¤§æ›´æ–°**: å®Œå…¨é‡æ„çš„ CMake æ„å»ºç³»ç»Ÿ
- ğŸš€ **è‡ªåŠ¨åŒ–æ”¹è¿›**: è‡ªåŠ¨ DLL å¤åˆ¶å’Œæµ‹è¯•æ•°æ®éƒ¨ç½²
- ğŸ§ª **æµ‹è¯•å¢å¼º**: CTest é›†æˆï¼Œå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
- ğŸ“¦ **ä¾èµ–å†…åµŒ**: GNU libiconv æºç å®Œå…¨å†…åµŒ
- ğŸ”§ **å¼€å‘ä½“éªŒ**: æ™ºèƒ½è·¯å¾„å¤„ç†ï¼Œè¯¦ç»†è°ƒè¯•ä¿¡æ¯
- ğŸ“ **æ–‡æ¡£å®Œå–„**: æ›´æ–°æ‰€æœ‰æ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

