\doxysection{Uni\+Conv.\+cpp}
\hypertarget{UniConv_8cpp_source}{}\label{UniConv_8cpp_source}\mbox{\hyperlink{UniConv_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00031}00031\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{UniConv_8h}{UniConv.h}}"{}}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00032}00032\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{LightLogWriteImpl_8h}{LightLogWriteImpl.h}}"{}}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00039}\mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{00039}}\ \mbox{\hyperlink{structUniConv_1_1IConvResult}{UniConv::IConvResult}}\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{UniConv::ConvertEncoding}}(\textcolor{keyword}{const}\ std::string\&\ input,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fromEncoding,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ toEncoding)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00040}00040\ \ \ \ \ \mbox{\hyperlink{structUniConv_1_1IConvResult}{IConvResult}}\ result;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00041}00041\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{if}\ (input.empty())\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00043}00043\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_aba22472ed917747cea938ba87ed38f10}{error\_code}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00044}00044\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_a646bb72dd0201865ca2c56d824ab7601}{conv\_result\_str}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00046}00046\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00047}00047\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00048}00048\ \ \ \ \ \mbox{\hyperlink{iconv_8h_a394d3fb485b2577035dd4a8055724273}{iconv\_t}}\ cd\ =\ \mbox{\hyperlink{iconv_8h_abc93f77b3b8b5891765c9f3c483ec013}{iconv\_open}}(toEncoding,\ fromEncoding);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00049}00049\ \ \ \ \ \textcolor{keywordflow}{if}\ (cd\ ==\ (\mbox{\hyperlink{iconv_8h_a394d3fb485b2577035dd4a8055724273}{iconv\_t}})-\/1)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00050}00050\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_aba22472ed917747cea938ba87ed38f10}{error\_code}}\ =\ errno;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00051}00051\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_a9f1a62bb5422b541dd8a44e28828afa5}{error\_msg}}\ =\ \textcolor{stringliteral}{"{}Failed\ to\ open\ iconv:\ "{}}\ +\ std::string(strerror(errno));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00053}00053\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00054}00054\ \ \ \ \ \ \ \textcolor{comment}{//\ Prepare\ input\ and\ output\ buffers}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00055}00055\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ inbytesleft\ =\ input.size();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00056}00056\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ outbytesleft\ =\ inbytesleft\ *\ 4;\ \textcolor{comment}{//\ Large\ enough\ output\ buffer\ for\ worst\ case}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00057}00057\ \ \ \ \ std::string\ output(outbytesleft,\ \textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00058}00058\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00059}00059\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ inbuf\ =\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input.data());}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00060}00060\ \ \ \ \ \textcolor{keywordtype}{char}*\ outbuf\ =\ \&output[0];}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00061}00061\ \ \ \ \ \textcolor{keywordtype}{char}*\ outbuf\_start\ =\ outbuf;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00062}00062\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00063}00063\ \ \ \ \ \textcolor{comment}{//\ Perform\ conversion}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00064}00064\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ ret\ =\ \mbox{\hyperlink{iconv_8h_a44c0f9426dd91c55d783618e535404b7}{iconv}}(cd,\ \&inbuf,\ \&inbytesleft,\ \&outbuf,\ \&outbytesleft);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00065}00065\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00066}00066\ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\ ==\ (\textcolor{keywordtype}{size\_t})-\/1)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00067}00067\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_aba22472ed917747cea938ba87ed38f10}{error\_code}}\ =\ errno;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00068}00068\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_a9f1a62bb5422b541dd8a44e28828afa5}{error\_msg}}\ =\ \textcolor{stringliteral}{"{}iconv\ conversion\ failed:\ "{}}\ +\ std::string(strerror(errno));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00069}00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{iconv_8h_a0c4ff4bdefbf1576f3e7bab5fbc5ec89}{iconv\_close}}(cd);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00071}00071\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00072}00072\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00073}00073\ \ \ \ \ \textcolor{comment}{//\ Calculate\ actual\ output\ size}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00074}00074\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ converted\_size\ =\ outbuf\ -\/\ outbuf\_start;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00075}00075\ \ \ \ \ output.resize(converted\_size);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00076}00076\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00077}00077\ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_a646bb72dd0201865ca2c56d824ab7601}{conv\_result\_str}}\ =\ std::move(output);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00078}00078\ \ \ \ \ result.\mbox{\hyperlink{structUniConv_1_1IConvResult_aba22472ed917747cea938ba87ed38f10}{error\_code}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00079}00079\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00080}00080\ \ \ \ \ \mbox{\hyperlink{iconv_8h_a0c4ff4bdefbf1576f3e7bab5fbc5ec89}{iconv\_close}}(cd);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00081}00081\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00082}00082\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00114}\mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{00114}}\ std::string\ \mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{UniConv::GetCurrentSystemEncoding}}()\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00115}00115\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00116}00116\ \ \ \ \ UINT\ cp\ =\ GetACP();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00117}00117\ \ \ \ \ \textcolor{keywordflow}{switch}\ (cp)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00118}00118\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 936:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}GBK"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00119}00119\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 950:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}BIG5"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 932:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}SHIFT\_JIS"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 65001:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}UTF-\/8"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00122}00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}CP"{}}\ +\ std::to\_string(cp);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00123}00123\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00124}00124\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00125}00125\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}UTF-\/8"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00126}00126\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00127}00127\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00148}\mbox{\hyperlink{group__SystemEncoding_ga755af3e0e9bc3958baa97104b120bdeb}{00148}}\ std::uint16\_t\ \mbox{\hyperlink{group__SystemEncoding_ga755af3e0e9bc3958baa97104b120bdeb}{UniConv::GetCurrentSystemEncodingCodePage}}()\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00149}00149\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00150}00150\ \ \ \ \ \textcolor{keywordflow}{return}\ GetACP();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00151}00151\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00152}00152\ \ \ \ \ \textcolor{keywordflow}{return}\ 65001;\ \textcolor{comment}{//\ UTF-\/8}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00153}00153\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00154}00154\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00177}\mbox{\hyperlink{group__SystemEncoding_ga986ba712af80d6c4d700b464619ab1c3}{00177}}\ std::string\ \mbox{\hyperlink{group__SystemEncoding_ga986ba712af80d6c4d700b464619ab1c3}{UniConv::GetEncodingNameByCodePage}}(std::uint16\_t\ codePage)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00178}00178\ \ \ \ \ \textcolor{keywordflow}{switch}\ (codePage)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00179}00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 936:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}GBK"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00180}00180\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 950:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}BIG5"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 932:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}SHIFT\_JIS"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00182}00182\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 65001:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}UTF-\/8"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00183}00183\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 1252:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}CP1252"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00184}00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}CP"{}}\ +\ std::to\_string(codePage);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00185}00185\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00186}00186\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00220}\mbox{\hyperlink{group__UTF16ToUTF8Conversion_gae6b1cc18ab9d2435a3ace16f8e86cb69}{00220}}\ std::string\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gafe613d099c00d29007cf5cc09c454dc4}{UniConv::FromUtf16LEToUtf8}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input,\ \textcolor{keywordtype}{size\_t}\ len)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00221}00221\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input\ ||\ len\ ==\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00222}00222\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00223}00223\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input),\ len\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00224}00224\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16LE"{}},\ \textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00225}00225\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00226}00226\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00227}00227\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00248}\mbox{\hyperlink{group__UTF16ToUTF8Conversion_gaacff526e59dfd2899ab4b8da3337c63e}{00248}}\ std::string\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gad013e8c79e13dedc12ecfa9aa14af7af}{UniConv::FromUtf16BEToUtf8}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input,\ \textcolor{keywordtype}{size\_t}\ len)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00249}00249\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input\ ||\ len\ ==\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00250}00250\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00251}00251\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input),\ len\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00252}00252\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16BE"{}},\ \textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00253}00253\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00254}00254\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00256}00256\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00262}00262\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00286}\mbox{\hyperlink{group__LocaleConversion_ga3570fb88b9c90403cb87d8d62aabbe7f}{00286}}\ std::string\ \mbox{\hyperlink{group__LocaleConversion_ga3570fb88b9c90403cb87d8d62aabbe7f}{UniConv::ToUtf8FromLocal}}(\textcolor{keyword}{const}\ std::string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00287}00287\ \ \ \ \ std::string\ currentEncoding\ =\ \mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{GetCurrentSystemEncoding}}();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00288}00288\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input,\ currentEncoding.c\_str(),\ \textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00289}00289\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00290}00290\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00291}00291\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00303}\mbox{\hyperlink{group__LocaleConversion_ga8bbffaa97e8bffdb66cfac51512b6f15}{00303}}\ std::string\ \mbox{\hyperlink{group__LocaleConversion_ga3570fb88b9c90403cb87d8d62aabbe7f}{UniConv::ToUtf8FromLocal}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00304}00304\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00305}00305\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__LocaleConversion_ga3570fb88b9c90403cb87d8d62aabbe7f}{ToUtf8FromLocal}}(std::string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00306}00306\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00307}00307\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00329}\mbox{\hyperlink{group__LocaleConversion_ga745be1e69f1c9c78e8c3d9e1cf98742b}{00329}}\ std::string\ \mbox{\hyperlink{group__LocaleConversion_ga745be1e69f1c9c78e8c3d9e1cf98742b}{UniConv::FromUtf8ToLocal}}(\textcolor{keyword}{const}\ std::string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00330}00330\ \ \ \ \ std::string\ currentEncoding\ =\ \mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{GetCurrentSystemEncoding}}();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00331}00331\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input,\ \textcolor{stringliteral}{"{}UTF-\/8"{}},\ currentEncoding.c\_str());}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00332}00332\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00333}00333\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00334}00334\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00345}\mbox{\hyperlink{group__LocaleConversion_ga25571b3d1a025426cd4d9e8080a28e56}{00345}}\ std::string\ \mbox{\hyperlink{group__LocaleConversion_ga745be1e69f1c9c78e8c3d9e1cf98742b}{UniConv::FromUtf8ToLocal}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00346}00346\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00347}00347\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__LocaleConversion_ga745be1e69f1c9c78e8c3d9e1cf98742b}{FromUtf8ToLocal}}(std::string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00348}00348\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00350}00350\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00356}00356\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00380}\mbox{\hyperlink{group__UTF16ToUTF8Conversion_gafe613d099c00d29007cf5cc09c454dc4}{00380}}\ std::string\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gafe613d099c00d29007cf5cc09c454dc4}{UniConv::FromUtf16LEToUtf8}}(\textcolor{keyword}{const}\ std::u16string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00381}00381\ \ \ \ \ \textcolor{keywordflow}{if}\ (input.empty())\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00382}00382\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00383}00383\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input.data()),\ input.size()\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00384}00384\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16LE"{}},\ \textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00385}00385\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00386}00386\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00387}00387\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00399}\mbox{\hyperlink{group__UTF16ToUTF8Conversion_ga6a5b00e28a01ff7364370c869b020d32}{00399}}\ std::string\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gafe613d099c00d29007cf5cc09c454dc4}{UniConv::FromUtf16LEToUtf8}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00400}00400\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00401}00401\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gafe613d099c00d29007cf5cc09c454dc4}{FromUtf16LEToUtf8}}(std::u16string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00402}00402\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00403}00403\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00423}\mbox{\hyperlink{group__UTF16ToUTF8Conversion_gad013e8c79e13dedc12ecfa9aa14af7af}{00423}}\ std::string\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gad013e8c79e13dedc12ecfa9aa14af7af}{UniConv::FromUtf16BEToUtf8}}(\textcolor{keyword}{const}\ std::u16string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00424}00424\ \ \ \ \ \textcolor{keywordflow}{if}\ (input.empty())\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00425}00425\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00426}00426\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input.data()),\ input.size()\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00427}00427\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16BE"{}},\ \textcolor{stringliteral}{"{}UTF-\/8"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00428}00428\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00429}00429\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00430}00430\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00441}\mbox{\hyperlink{group__UTF16ToUTF8Conversion_gaa46d9edbb4949be53499f977ccbc8993}{00441}}\ std::string\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gad013e8c79e13dedc12ecfa9aa14af7af}{UniConv::FromUtf16BEToUtf8}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00442}00442\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00443}00443\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__UTF16ToUTF8Conversion_gad013e8c79e13dedc12ecfa9aa14af7af}{FromUtf16BEToUtf8}}(std::u16string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00444}00444\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00446}00446\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00452}00452\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00479}\mbox{\hyperlink{group__UTF8ToUTF16Conversion_ga7147b19a54c37376bbb36ab62840a4ce}{00479}}\ std::u16string\ \mbox{\hyperlink{group__UTF8ToUTF16Conversion_ga7147b19a54c37376bbb36ab62840a4ce}{UniConv::FromUtf8ToUtf16LE}}(\textcolor{keyword}{const}\ std::string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00480}00480\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input,\ \textcolor{stringliteral}{"{}UTF-\/8"{}},\ \textcolor{stringliteral}{"{}UTF-\/16LE"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00481}00481\ \ \ \ \ \textcolor{keywordflow}{if}\ (result.IsSuccess()\ \&\&\ result.conv\_result\_str.size()\ \%\ 2\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00482}00482\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char16\_t}*\textcolor{keyword}{>}(result.conv\_result\_str.data()),\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.conv\_result\_str.size()\ /\ 2);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00484}00484\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00485}00485\ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00486}00486\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00487}00487\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00498}\mbox{\hyperlink{group__UTF8ToUTF16Conversion_ga07754d075e239a1add3f9e8d1b1d4861}{00498}}\ std::u16string\ \mbox{\hyperlink{group__UTF8ToUTF16Conversion_ga7147b19a54c37376bbb36ab62840a4ce}{UniConv::FromUtf8ToUtf16LE}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00499}00499\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00500}00500\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__UTF8ToUTF16Conversion_ga7147b19a54c37376bbb36ab62840a4ce}{FromUtf8ToUtf16LE}}(std::string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00501}00501\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00502}00502\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00522}\mbox{\hyperlink{group__UTF8ToUTF16Conversion_gaffa4c568ccf996cfead9d92ad774649f}{00522}}\ std::u16string\ \mbox{\hyperlink{group__UTF8ToUTF16Conversion_gaffa4c568ccf996cfead9d92ad774649f}{UniConv::FromUtf8ToUtf16BE}}(\textcolor{keyword}{const}\ std::string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00523}00523\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input,\ \textcolor{stringliteral}{"{}UTF-\/8"{}},\ \textcolor{stringliteral}{"{}UTF-\/16BE"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00524}00524\ \ \ \ \ \textcolor{keywordflow}{if}\ (result.IsSuccess()\ \&\&\ result.conv\_result\_str.size()\ \%\ 2\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00525}00525\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char16\_t}*\textcolor{keyword}{>}(result.conv\_result\_str.data()),\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00526}00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.conv\_result\_str.size()\ /\ 2);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00527}00527\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00528}00528\ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00529}00529\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00530}00530\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00541}\mbox{\hyperlink{group__UTF8ToUTF16Conversion_ga66444dd14dee503bcdb8c172aa948b9b}{00541}}\ std::u16string\ \mbox{\hyperlink{group__UTF8ToUTF16Conversion_gaffa4c568ccf996cfead9d92ad774649f}{UniConv::FromUtf8ToUtf16BE}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00542}00542\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00543}00543\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__UTF8ToUTF16Conversion_gaffa4c568ccf996cfead9d92ad774649f}{FromUtf8ToUtf16BE}}(std::string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00544}00544\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00546}00546\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00552}00552\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00571}\mbox{\hyperlink{group__LocaleToUTF16Conversion_ga992bae141c725629c74b4a706a5e624a}{00571}}\ std::u16string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga992bae141c725629c74b4a706a5e624a}{UniConv::ToUtf16LEFromLocal}}(\textcolor{keyword}{const}\ std::string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00572}00572\ \ \ \ \ std::string\ currentEncoding\ =\ \mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{GetCurrentSystemEncoding}}();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00573}00573\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input,\ currentEncoding.c\_str(),\ \textcolor{stringliteral}{"{}UTF-\/16LE"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00574}00574\ \ \ \ \ \textcolor{keywordflow}{if}\ (result.IsSuccess()\ \&\&\ result.conv\_result\_str.size()\ \%\ 2\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00575}00575\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char16\_t}*\textcolor{keyword}{>}(result.conv\_result\_str.data()),\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00576}00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.conv\_result\_str.size()\ /\ 2);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00577}00577\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00578}00578\ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00579}00579\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00580}00580\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00591}\mbox{\hyperlink{group__LocaleToUTF16Conversion_ga096be3313cba5d20b8eecefa517df621}{00591}}\ std::u16string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga992bae141c725629c74b4a706a5e624a}{UniConv::ToUtf16LEFromLocal}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00592}00592\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00593}00593\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga992bae141c725629c74b4a706a5e624a}{ToUtf16LEFromLocal}}(std::string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00594}00594\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00595}00595\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00608}\mbox{\hyperlink{group__LocaleToUTF16Conversion_ga99f4c15a40367498f5c48f2b4f9c16c6}{00608}}\ std::u16string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga99f4c15a40367498f5c48f2b4f9c16c6}{UniConv::ToUtf16BEFromLocal}}(\textcolor{keyword}{const}\ std::string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00609}00609\ \ \ \ \ std::string\ currentEncoding\ =\ \mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{GetCurrentSystemEncoding}}();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00610}00610\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input,\ currentEncoding.c\_str(),\ \textcolor{stringliteral}{"{}UTF-\/16BE"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00611}00611\ \ \ \ \ \textcolor{keywordflow}{if}\ (result.IsSuccess()\ \&\&\ result.conv\_result\_str.size()\ \%\ 2\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00612}00612\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char16\_t}*\textcolor{keyword}{>}(result.conv\_result\_str.data()),\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00613}00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.conv\_result\_str.size()\ /\ 2);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00614}00614\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00615}00615\ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00616}00616\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00617}00617\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00628}\mbox{\hyperlink{group__LocaleToUTF16Conversion_ga1405fd4e45d18f5642b9cd928aa60867}{00628}}\ std::u16string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga99f4c15a40367498f5c48f2b4f9c16c6}{UniConv::ToUtf16BEFromLocal}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00629}00629\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00630}00630\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga99f4c15a40367498f5c48f2b4f9c16c6}{ToUtf16BEFromLocal}}(std::string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00631}00631\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00633}00633\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00639}00639\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00658}\mbox{\hyperlink{group__LocaleToUTF16Conversion_ga5be527d1a83956e621386d9d12469030}{00658}}\ std::string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga5be527d1a83956e621386d9d12469030}{UniConv::FromUtf16LEToLocal}}(\textcolor{keyword}{const}\ std::u16string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00659}00659\ \ \ \ \ \textcolor{keywordflow}{if}\ (input.empty())\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00660}00660\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00661}00661\ \ \ \ \ std::string\ currentEncoding\ =\ \mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{GetCurrentSystemEncoding}}();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00662}00662\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input.data()),\ input.size()\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00663}00663\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16LE"{}},\ currentEncoding.c\_str());}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00664}00664\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00665}00665\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00666}00666\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00677}\mbox{\hyperlink{group__LocaleToUTF16Conversion_ga4fa4e458977ef7d63cb7a1fc15205076}{00677}}\ std::string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga5be527d1a83956e621386d9d12469030}{UniConv::FromUtf16LEToLocal}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00678}00678\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00679}00679\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga5be527d1a83956e621386d9d12469030}{FromUtf16LEToLocal}}(std::u16string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00680}00680\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00681}00681\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00695}\mbox{\hyperlink{group__LocaleToUTF16Conversion_ga7b8ba5b89d5f22948a64513174c2103c}{00695}}\ std::string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga7b8ba5b89d5f22948a64513174c2103c}{UniConv::FromUtf16BEToLocal}}(\textcolor{keyword}{const}\ std::u16string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00696}00696\ \ \ \ \ \textcolor{keywordflow}{if}\ (input.empty())\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00697}00697\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00698}00698\ \ \ \ \ std::string\ currentEncoding\ =\ \mbox{\hyperlink{group__SystemEncoding_gab60334a4a8219bd32f7d893d8ef115f2}{GetCurrentSystemEncoding}}();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00699}00699\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input.data()),\ input.size()\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00700}00700\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16BE"{}},\ currentEncoding.c\_str());}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00701}00701\ \ \ \ \ \textcolor{keywordflow}{return}\ result.IsSuccess()\ ?\ result.conv\_result\_str\ :\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00702}00702\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00703}00703\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00714}\mbox{\hyperlink{group__LocaleToUTF16Conversion_gaa05d5afb48a0def16ba3f3a4089548f3}{00714}}\ std::string\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga7b8ba5b89d5f22948a64513174c2103c}{UniConv::FromUtf16BEToLocal}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00715}00715\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00716}00716\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__LocaleToUTF16Conversion_ga7b8ba5b89d5f22948a64513174c2103c}{FromUtf16BEToLocal}}(std::u16string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00717}00717\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00719}00719\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00725}00725\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00750}\mbox{\hyperlink{group__UTF16EndiannessConversion_ga2c5ebe7c66a0f1097708d54acaf0638b}{00750}}\ std::u16string\ \mbox{\hyperlink{group__UTF16EndiannessConversion_ga2c5ebe7c66a0f1097708d54acaf0638b}{UniConv::FromUtf16LEToUtf16BE}}(\textcolor{keyword}{const}\ std::u16string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00751}00751\ \ \ \ \ \textcolor{keywordflow}{if}\ (input.empty())\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00752}00752\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00753}00753\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input.data()),\ input.size()\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00754}00754\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16LE"{}},\ \textcolor{stringliteral}{"{}UTF-\/16BE"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00755}00755\ \ \ \ \ \textcolor{keywordflow}{if}\ (result.IsSuccess()\ \&\&\ result.conv\_result\_str.size()\ \%\ 2\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00756}00756\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char16\_t}*\textcolor{keyword}{>}(result.conv\_result\_str.data()),\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00757}00757\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.conv\_result\_str.size()\ /\ 2);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00758}00758\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00759}00759\ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00760}00760\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00761}00761\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00772}\mbox{\hyperlink{group__UTF16EndiannessConversion_ga3154014e8e3b95be3bd654c61e02679b}{00772}}\ std::u16string\ \mbox{\hyperlink{group__UTF16EndiannessConversion_ga2c5ebe7c66a0f1097708d54acaf0638b}{UniConv::FromUtf16LEToUtf16BE}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00773}00773\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00774}00774\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__UTF16EndiannessConversion_ga2c5ebe7c66a0f1097708d54acaf0638b}{FromUtf16LEToUtf16BE}}(std::u16string(input));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00775}00775\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00776}00776\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00788}\mbox{\hyperlink{group__UTF16EndiannessConversion_ga56f0d324ec8aa292126856d6ae446629}{00788}}\ std::u16string\ \mbox{\hyperlink{group__UTF16EndiannessConversion_ga56f0d324ec8aa292126856d6ae446629}{UniConv::FromUtf16BEToUtf16LE}}(\textcolor{keyword}{const}\ std::u16string\&\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00789}00789\ \ \ \ \ \textcolor{keywordflow}{if}\ (input.empty())\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00790}00790\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00791}00791\ \ \ \ \ std::string\ input\_bytes(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(input.data()),\ input.size()\ *\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char16\_t}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00792}00792\ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{group__SystemEncoding_gafbdae139bdf6873ef140c5c925215417}{ConvertEncoding}}(input\_bytes,\ \textcolor{stringliteral}{"{}UTF-\/16BE"{}},\ \textcolor{stringliteral}{"{}UTF-\/16LE"{}});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00793}00793\ \ \ \ \ \textcolor{keywordflow}{if}\ (result.IsSuccess()\ \&\&\ result.conv\_result\_str.size()\ \%\ 2\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00794}00794\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char16\_t}*\textcolor{keyword}{>}(result.conv\_result\_str.data()),\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00795}00795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.conv\_result\_str.size()\ /\ 2);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00796}00796\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00797}00797\ \ \ \ \ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00798}00798\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00799}00799\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00815}\mbox{\hyperlink{group__UTF16EndiannessConversion_gafe64f312282831c8f7ded3eaf26f9a63}{00815}}\ std::u16string\ \mbox{\hyperlink{group__UTF16EndiannessConversion_ga56f0d324ec8aa292126856d6ae446629}{UniConv::FromUtf16BEToUtf16LE}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char16\_t}*\ input)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00816}00816\ \ \ \ \ \textcolor{keywordflow}{if}\ (!input)\ \textcolor{keywordflow}{return}\ std::u16string();}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00817}00817\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ len\ =\ 0;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00818}00818\ \ \ \ \ \textcolor{keywordflow}{while}\ (input[len]\ !=\ 0)\ ++len;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00819}00819\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__UTF16EndiannessConversion_ga56f0d324ec8aa292126856d6ae446629}{FromUtf16BEToUtf16LE}}(std::u16string(input,\ len));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00820}00820\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00822}00822\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00828}00828\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00857}\mbox{\hyperlink{group__WideStringConversion_ga1df39668c62d89cbf812305934318b81}{00857}}\ std::string\ \mbox{\hyperlink{group__WideStringConversion_ga1df39668c62d89cbf812305934318b81}{UniConv::WideStringToLocale}}(\textcolor{keyword}{const}\ std::wstring\&\ sInput)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00858}00858\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00859}00859\ \ \ \ \ \textcolor{keywordflow}{if}\ (sInput.empty())\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00860}00860\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00861}00861\ \ \ \ \ \textcolor{keywordtype}{int}\ bytes\_needed\ =\ WideCharToMultiByte(CP\_ACP,\ 0,\ sInput.c\_str(),\ -\/1,\ \textcolor{keyword}{nullptr},\ 0,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00862}00862\ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes\_needed\ <=\ 0)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00863}00863\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00864}00864\ \ \ \ \ std::string\ result(bytes\_needed\ -\/\ 1,\ \textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00865}00865\ \ \ \ \ WideCharToMultiByte(CP\_ACP,\ 0,\ sInput.c\_str(),\ -\/1,\ \&result[0],\ bytes\_needed,\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00866}00866\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00867}00867\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00868}00868\ \ \ \ \ \textcolor{comment}{//\ LinuxÊµÏÖ}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00869}00869\ \ \ \ \ std::wstring\_convert<std::codecvt\_byname<wchar\_t,\ char,\ std::mbstate\_t>>\ converter(\textcolor{keyword}{new}\ std::codecvt\_byname<wchar\_t,\ char,\ std::mbstate\_t>(\textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00870}00870\ \ \ \ \ \textcolor{keywordflow}{return}\ converter.to\_bytes(sInput);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00871}00871\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00872}00872\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00873}00873\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00884}\mbox{\hyperlink{group__WideStringConversion_ga27b3b2e6144204dbc0f1943e78ed0e8f}{00884}}\ std::string\ \mbox{\hyperlink{group__WideStringConversion_ga1df39668c62d89cbf812305934318b81}{UniConv::WideStringToLocale}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{wchar\_t}*\ sInput)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00885}00885\ \ \ \ \ \textcolor{keywordflow}{if}\ (!sInput)\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00886}00886\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__WideStringConversion_ga1df39668c62d89cbf812305934318b81}{WideStringToLocale}}(std::wstring(sInput));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00887}00887\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00888}00888\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00910}\mbox{\hyperlink{group__WideStringConversion_ga960f9910bab168fed3e63bdd702625e3}{00910}}\ std::wstring\ \mbox{\hyperlink{group__WideStringConversion_ga9c800f2e33a787208675c689a7e5f9a2}{UniConv::LocaleToWideString}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ sInput)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00911}00911\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00912}00912\ \ \ \ \ \textcolor{keywordflow}{if}\ (!sInput)\ \textcolor{keywordflow}{return}\ L\textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00913}00913\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00914}00914\ \ \ \ \ \textcolor{keywordtype}{int}\ wchars\_needed\ =\ MultiByteToWideChar(CP\_ACP,\ 0,\ sInput,\ -\/1,\ \textcolor{keyword}{nullptr},\ 0);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00915}00915\ \ \ \ \ \textcolor{keywordflow}{if}\ (wchars\_needed\ <=\ 0)\ \textcolor{keywordflow}{return}\ L\textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00916}00916\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00917}00917\ \ \ \ \ std::wstring\ result(wchars\_needed\ -\/\ 1,\ L\textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00918}00918\ \ \ \ \ MultiByteToWideChar(CP\_ACP,\ 0,\ sInput,\ -\/1,\ \&result[0],\ wchars\_needed);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00919}00919\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00920}00920\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00921}00921\ \ \ \ \ \textcolor{comment}{//\ LinuxÊµÏÖ}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00922}00922\ \ \ \ \ std::wstring\_convert<std::codecvt\_byname<wchar\_t,\ char,\ std::mbstate\_t>>\ converter(\textcolor{keyword}{new}\ std::codecvt\_byname<wchar\_t,\ char,\ std::mbstate\_t>(\textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00923}00923\ \ \ \ \ \textcolor{keywordflow}{return}\ converter.from\_bytes(sInput);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00924}00924\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00925}00925\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00926}00926\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00937}\mbox{\hyperlink{group__WideStringConversion_ga9c800f2e33a787208675c689a7e5f9a2}{00937}}\ std::wstring\ \mbox{\hyperlink{group__WideStringConversion_ga9c800f2e33a787208675c689a7e5f9a2}{UniConv::LocaleToWideString}}(\textcolor{keyword}{const}\ std::string\&\ sInput)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00938}00938\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__WideStringConversion_ga9c800f2e33a787208675c689a7e5f9a2}{LocaleToWideString}}(sInput.c\_str());}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00939}00939\ \}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00941}00941\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00947}00947\ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00975}\mbox{\hyperlink{group__ErrorHandling_ga0803c945e46c24a7042b1b5cbbb60946}{00975}}\ std::string\ \mbox{\hyperlink{group__ErrorHandling_ga0803c945e46c24a7042b1b5cbbb60946}{UniConv::GetIconvErrorString}}(\textcolor{keywordtype}{int}\ err\_code)\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00976}00976\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ std::unordered\_map<int,\ std::string>\ errorMap\ =\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00977}00977\ \ \ \ \ \ \ \ \ \{\mbox{\hyperlink{iconv_8h_ac6c071293826a4e66a717bb38db7794d}{EILSEQ}},\ \textcolor{stringliteral}{"{}Invalid\ multibyte\ sequence"{}}\},}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00978}00978\ \ \ \ \ \ \ \ \ \{EINVAL,\ \textcolor{stringliteral}{"{}Incomplete\ multibyte\ sequence"{}}\},}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00979}00979\ \ \ \ \ \ \ \ \ \{E2BIG,\ \textcolor{stringliteral}{"{}Output\ buffer\ too\ small"{}}\},}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00980}00980\ \ \ \ \ \ \ \ \ \{EBADF,\ \textcolor{stringliteral}{"{}Invalid\ conversion\ descriptor"{}}\}}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00981}00981\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00982}00982\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00983}00983\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ errorMap.find(err\_code);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00984}00984\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ errorMap.end())\ \{}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00985}00985\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second;}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00986}00986\ \ \ \ \ \}\ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Unknown\ iconv\ error:\ "{}}\ +\ std::to\_string(err\_code);}
\DoxyCodeLine{\Hypertarget{UniConv_8cpp_source_l00987}00987\ \}}

\end{DoxyCode}
