\doxysection{Internal Logging Implementation}
\hypertarget{group__LoggingInternals}{}\label{group__LoggingInternals}\index{Internal Logging Implementation@{Internal Logging Implementation}}


Private methods and utilities for the logging system.  


\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
std\+::wstring \mbox{\hyperlink{group__LoggingInternals_ga3c612177e101789279c2f5155513118c}{Light\+Log\+Write\+\_\+\+Impl\+::\+Build\+Log\+File\+Out}} ()
\begin{DoxyCompactList}\small\item\em Build log file name with timestamp. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__LoggingInternals_ga5432b6bdffcbc2dc2a04201cc65a4d49}{Light\+Log\+Write\+\_\+\+Impl\+::\+Close\+Log\+Stream}} ()
\begin{DoxyCompactList}\small\item\em Clean shutdown of logging system. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__LoggingInternals_gaef370bc38f695c58da5493be555c69c6}{Light\+Log\+Write\+\_\+\+Impl\+::\+Create\+Logs\+File}} ()
\begin{DoxyCompactList}\small\item\em Create new log file for persistent logging. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__LoggingInternals_ga18d59709020cd8077bf6a6978f698119}{Light\+Log\+Write\+\_\+\+Impl\+::\+Run\+Write\+Thread}} ()
\begin{DoxyCompactList}\small\item\em Main writer thread function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__LoggingInternals_ga8a38717ee1428cf2f33542e7c4ec7a61}{Light\+Log\+Write\+\_\+\+Impl\+::\+Checks\+Directory}} (const std\+::wstring \&s\+Filename)
\begin{DoxyCompactList}\small\item\em Ensure directory structure exists for log file. \end{DoxyCompactList}\item 
std\+::wstring \mbox{\hyperlink{group__LoggingInternals_ga8c5588b019435d5cc831b7996f099d30}{Light\+Log\+Write\+\_\+\+Impl\+::\+Get\+Current\+Timer}} () const
\begin{DoxyCompactList}\small\item\em Get current time as formatted wide string. \end{DoxyCompactList}\item 
std\+::tm \mbox{\hyperlink{group__LoggingInternals_gafc1b5135df1b50d3712db40ff74adfb7}{Light\+Log\+Write\+\_\+\+Impl\+::\+Get\+Currs\+Timer\+Tm}} () const
\begin{DoxyCompactList}\small\item\em Get current time as std\+::tm structure. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Private methods and utilities for the logging system. 



\doxysubsection{Function Documentation}
\Hypertarget{group__LoggingInternals_ga3c612177e101789279c2f5155513118c}\index{Internal Logging Implementation@{Internal Logging Implementation}!BuildLogFileOut@{BuildLogFileOut}}
\index{BuildLogFileOut@{BuildLogFileOut}!Internal Logging Implementation@{Internal Logging Implementation}}
\doxysubsubsection{\texorpdfstring{BuildLogFileOut()}{BuildLogFileOut()}}
{\footnotesize\ttfamily \label{group__LoggingInternals_ga3c612177e101789279c2f5155513118c} 
std\+::wstring Light\+Log\+Write\+\_\+\+Impl\+::\+Build\+Log\+File\+Out (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Build log file name with timestamp. 

\begin{DoxyReturn}{Returns}
Wide string path to the log file
\end{DoxyReturn}
Constructs the full path for the current log file based on the current time and persistent logging settings. File names follow the pattern\+: basename\+\_\+\+YYYY\+\_\+\+MM\+\_\+\+DD\+\_\+\+AM/\+PM.\+log

\begin{DoxyParagraph}{Naming Logic\+:}

\begin{DoxyItemize}
\item Uses current date for YYYY\+\_\+\+MM\+\_\+\+DD portion
\item Determines AM/\+PM based on current hour (\texorpdfstring{$>$}{>}12 = AM, \texorpdfstring{$<$}{<}=12 = PM)
\item Updates internal b\+Lasting\+Tm\+Tags for rotation detection
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Path Construction\+:}
Combines s\+Log\+Lasting\+Dir with the generated filename
\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
\doxylink{group__LoggingInternals_gafc1b5135df1b50d3712db40ff74adfb7}{Get\+Currs\+Timer\+Tm()} 

\doxylink{group__LoggingInternals_gaef370bc38f695c58da5493be555c69c6}{Create\+Logs\+File()} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{LightLogWriteImpl_8h_source_l00303}{303}} of file \mbox{\hyperlink{LightLogWriteImpl_8h_source}{Light\+Log\+Write\+Impl.\+h}}.

\Hypertarget{group__LoggingInternals_ga8a38717ee1428cf2f33542e7c4ec7a61}\index{Internal Logging Implementation@{Internal Logging Implementation}!ChecksDirectory@{ChecksDirectory}}
\index{ChecksDirectory@{ChecksDirectory}!Internal Logging Implementation@{Internal Logging Implementation}}
\doxysubsubsection{\texorpdfstring{ChecksDirectory()}{ChecksDirectory()}}
{\footnotesize\ttfamily \label{group__LoggingInternals_ga8a38717ee1428cf2f33542e7c4ec7a61} 
void Light\+Log\+Write\+\_\+\+Impl\+::\+Checks\+Directory (\begin{DoxyParamCaption}\item[{const std\+::wstring \&}]{s\+Filename}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Ensure directory structure exists for log file. 


\begin{DoxyParams}{Parameters}
{\em s\+Filename} & Wide string path to check/create\\
\hline
\end{DoxyParams}
Extracts the parent directory from the given file path and creates the directory structure if it doesn\textquotesingle{}t exist.

\begin{DoxyParagraph}{Directory Creation\+:}

\begin{DoxyItemize}
\item Uses std\+::filesystem\+::create\+\_\+directories for recursive creation
\item Only creates directories if they don\textquotesingle{}t already exist
\item Handles nested directory structures automatically 
\end{DoxyItemize}
\end{DoxyParagraph}


Definition at line \mbox{\hyperlink{LightLogWriteImpl_8h_source_l00422}{422}} of file \mbox{\hyperlink{LightLogWriteImpl_8h_source}{Light\+Log\+Write\+Impl.\+h}}.

\Hypertarget{group__LoggingInternals_ga5432b6bdffcbc2dc2a04201cc65a4d49}\index{Internal Logging Implementation@{Internal Logging Implementation}!CloseLogStream@{CloseLogStream}}
\index{CloseLogStream@{CloseLogStream}!Internal Logging Implementation@{Internal Logging Implementation}}
\doxysubsubsection{\texorpdfstring{CloseLogStream()}{CloseLogStream()}}
{\footnotesize\ttfamily \label{group__LoggingInternals_ga5432b6bdffcbc2dc2a04201cc65a4d49} 
void Light\+Log\+Write\+\_\+\+Impl\+::\+Close\+Log\+Stream (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Clean shutdown of logging system. 

Initiates the shutdown sequence for the logging system\+:
\begin{DoxyItemize}
\item Sets stop flag to signal writer thread
\item Notifies all waiting threads
\item Adds final log entry
\item Waits for writer thread to complete
\end{DoxyItemize}

\begin{DoxyParagraph}{Shutdown Sequence\+:}

\begin{DoxyEnumerate}
\item Set b\+Is\+Stop\+Logging flag to true
\item Notify condition variable to wake writer thread
\item Add shutdown log entry for debugging
\item Join writer thread (wait for completion)
\end{DoxyEnumerate}
\end{DoxyParagraph}
\begin{DoxyNote}{Note}
Called automatically by destructor 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{LightLogWriteImpl_8h_source_l00333}{333}} of file \mbox{\hyperlink{LightLogWriteImpl_8h_source}{Light\+Log\+Write\+Impl.\+h}}.

\Hypertarget{group__LoggingInternals_gaef370bc38f695c58da5493be555c69c6}\index{Internal Logging Implementation@{Internal Logging Implementation}!CreateLogsFile@{CreateLogsFile}}
\index{CreateLogsFile@{CreateLogsFile}!Internal Logging Implementation@{Internal Logging Implementation}}
\doxysubsubsection{\texorpdfstring{CreateLogsFile()}{CreateLogsFile()}}
{\footnotesize\ttfamily \label{group__LoggingInternals_gaef370bc38f695c58da5493be555c69c6} 
void Light\+Log\+Write\+\_\+\+Impl\+::\+Create\+Logs\+File (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Create new log file for persistent logging. 

Creates a new log file based on current timestamp and closes any existing file stream. Used for initial setup and rotation.

\begin{DoxyParagraph}{Operations\+:}

\begin{DoxyEnumerate}
\item Generate new filename using \doxylink{group__LoggingInternals_ga3c612177e101789279c2f5155513118c}{Build\+Log\+File\+Out()}
\item Lock mutex for thread safety
\item Ensure directory structure exists
\item Close existing file stream
\item Open new file in append mode
\end{DoxyEnumerate}
\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
\doxylink{group__LoggingInternals_ga3c612177e101789279c2f5155513118c}{Build\+Log\+File\+Out()} 

\doxylink{group__LoggingInternals_ga8a38717ee1428cf2f33542e7c4ec7a61}{Checks\+Directory()} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{LightLogWriteImpl_8h_source_l00356}{356}} of file \mbox{\hyperlink{LightLogWriteImpl_8h_source}{Light\+Log\+Write\+Impl.\+h}}.

\Hypertarget{group__LoggingInternals_ga8c5588b019435d5cc831b7996f099d30}\index{Internal Logging Implementation@{Internal Logging Implementation}!GetCurrentTimer@{GetCurrentTimer}}
\index{GetCurrentTimer@{GetCurrentTimer}!Internal Logging Implementation@{Internal Logging Implementation}}
\doxysubsubsection{\texorpdfstring{GetCurrentTimer()}{GetCurrentTimer()}}
{\footnotesize\ttfamily \label{group__LoggingInternals_ga8c5588b019435d5cc831b7996f099d30} 
std\+::wstring Light\+Log\+Write\+\_\+\+Impl\+::\+Get\+Current\+Timer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Get current time as formatted wide string. 

\begin{DoxyReturn}{Returns}
Wide string formatted as "{}\+YYYY-\/\+MM-\/\+DD HH\+:\+MM\+:\+SS"{}
\end{DoxyReturn}
Creates a formatted timestamp string for log entries. Uses local time zone for timestamp generation.

\begin{DoxyParagraph}{Format\+:}
Standard format\+: "{}\+YYYY-\/\+MM-\/\+DD HH\+:\+MM\+:\+SS"{} (24-\/hour format)
\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
\doxylink{group__LoggingInternals_gafc1b5135df1b50d3712db40ff74adfb7}{Get\+Currs\+Timer\+Tm()} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{LightLogWriteImpl_8h_source_l00442}{442}} of file \mbox{\hyperlink{LightLogWriteImpl_8h_source}{Light\+Log\+Write\+Impl.\+h}}.

\Hypertarget{group__LoggingInternals_gafc1b5135df1b50d3712db40ff74adfb7}\index{Internal Logging Implementation@{Internal Logging Implementation}!GetCurrsTimerTm@{GetCurrsTimerTm}}
\index{GetCurrsTimerTm@{GetCurrsTimerTm}!Internal Logging Implementation@{Internal Logging Implementation}}
\doxysubsubsection{\texorpdfstring{GetCurrsTimerTm()}{GetCurrsTimerTm()}}
{\footnotesize\ttfamily \label{group__LoggingInternals_gafc1b5135df1b50d3712db40ff74adfb7} 
std\+::tm Light\+Log\+Write\+\_\+\+Impl\+::\+Get\+Currs\+Timer\+Tm (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Get current time as std\+::tm structure. 

\begin{DoxyReturn}{Returns}
std\+::tm structure with current local time
\end{DoxyReturn}
Cross-\/platform function to get current local time as std\+::tm. Uses platform-\/specific safe time conversion functions.

\begin{DoxyParagraph}{Platform Differences\+:}

\begin{DoxyItemize}
\item Windows\+: Uses localtime\+\_\+s for thread safety
\item Unix/\+Linux\+: Uses localtime\+\_\+r for thread safety
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Usage\+:}
Used by both timestamp generation and file rotation logic 
\end{DoxyParagraph}


Definition at line \mbox{\hyperlink{LightLogWriteImpl_8h_source_l00462}{462}} of file \mbox{\hyperlink{LightLogWriteImpl_8h_source}{Light\+Log\+Write\+Impl.\+h}}.

\Hypertarget{group__LoggingInternals_ga18d59709020cd8077bf6a6978f698119}\index{Internal Logging Implementation@{Internal Logging Implementation}!RunWriteThread@{RunWriteThread}}
\index{RunWriteThread@{RunWriteThread}!Internal Logging Implementation@{Internal Logging Implementation}}
\doxysubsubsection{\texorpdfstring{RunWriteThread()}{RunWriteThread()}}
{\footnotesize\ttfamily \label{group__LoggingInternals_ga18d59709020cd8077bf6a6978f698119} 
void Light\+Log\+Write\+\_\+\+Impl\+::\+Run\+Write\+Thread (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Main writer thread function. 

Continuously processes log entries from the queue until shutdown is requested. Handles file rotation and writing.

\begin{DoxyParagraph}{Main Loop\+:}

\begin{DoxyEnumerate}
\item Check for file rotation needs (AM/\+PM boundary)
\item Wait for log entries or shutdown signal
\item Process available log entries
\item Write formatted entries to file
\item Repeat until shutdown
\end{DoxyEnumerate}
\end{DoxyParagraph}
\begin{DoxyParagraph}{File Rotation\+:}
Automatically detects AM/\+PM boundary changes and creates new log files
\end{DoxyParagraph}
\begin{DoxyParagraph}{Log Format\+:}
Each entry written as\+: \{tag\}-\///\texorpdfstring{$>$}{>}\texorpdfstring{$>$}{>}\texorpdfstring{$>$}{>}\{timestamp\} \+: \{content\}
\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
\doxylink{group__LoggingInternals_ga8c5588b019435d5cc831b7996f099d30}{Get\+Current\+Timer()} 

\doxylink{group__LoggingInternals_gaef370bc38f695c58da5493be555c69c6}{Create\+Logs\+File()} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{LightLogWriteImpl_8h_source_l00386}{386}} of file \mbox{\hyperlink{LightLogWriteImpl_8h_source}{Light\+Log\+Write\+Impl.\+h}}.

